(this["webpackJsonpace-demo"]=this["webpackJsonpace-demo"]||[]).push([[0],{19:function(e){e.exports=JSON.parse('{"schema":[{"name":"table_users","columns":["column_id","column_username","column_email","column_address"]},{"name":"table_accesslog","columns":["column_id","column_user_id","column_user_agent","column_ip_address","column_access_time"]}]}')},22:function(e,n,t){e.exports=t(46)},27:function(e,n,t){},44:function(e,n,t){e.exports=t.p+"static/media/index.9d29da1e.less"},45:function(e,n,t){},46:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),c=t(16),l=t.n(c),i=(t(27),t(6)),s=t(21),u=t(17),r=t.n(u),m=t(9),d=t(12),f=t.n(d),p=t(10),b=t.n(p),h=(t(35),t(36),t(38),t(39),t(40),t(41),t(42),t(2)),g=t.n(h);t(43),b.a.require("ace/snippets");function v(e){b.a.define("ace/snippets/".concat(e),["require","exports","module"],(function(n,t){t.snippetText="",t.scope=e}))}function C(e){var n=[],t={},a={};return e.forEach((function(e){n.push({name:e.name,value:e.name,score:100,meta:"Table"}),a[e.name]=function(e){var n=[];return e.columns.forEach((function(t){n.push({caption:t,name:"".concat(e.name,".").concat(t),value:"".concat(e.name,".").concat(t),score:100,meta:"Column",className:"completion"})})),n}(e),e.columns.forEach((function(e){t[e]="Column"}))})),{table:n,column:Object(m.map)(t,(function(e,n){return{name:n,value:n,score:50,meta:e}})),tableColumn:a}}v("python"),v("sql"),v("json"),v("yaml");var O={};function j(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;O[e]=Object(m.isNil)(n)?null:C(n)}g.a.setCompleters([g.a.snippetCompleter,g.a.keyWordCompleter,g.a.textCompleter,{identifierRegexps:[/[a-zA-Z_0-9.\-\u00A2-\uFFFF]/],getCompletions:function(e,n,t,a,o){var c=O[e.id]||{table:[],column:[],tableColumn:[]},l=c.table,i=c.column,s=c.tableColumn;if(0!==a.length&&0!==l.length)if("."!==a[a.length-1])o(null,l.concat(i));else{var u=a.substring(0,a.length-1);o(null,l.concat(s[u]))}else o(null,[])}}]);var E=t(20),w=(t(44),{$blockScrolling:1/0}),_=Object(a.forwardRef)((function(e,n){var t=e.className,c=e.syntax,l=e.value,u=e.autocompleteEnabled,m=e.schema,d=e.onChange,p=e.onSelectionChange,b=Object(s.a)(e,["className","syntax","value","autocompleteEnabled","schema","onChange","onSelectionChange"]),h=Object(a.useState)(null),g=Object(i.a)(h,2),v=g[0],C=g[1],O=Object(a.useState)(null),_=Object(i.a)(O,2),S=_[0],x=_[1],y=Object(a.useState)(l),k=Object(i.a)(y,2),N=k[0],R=k[1];Object(a.useEffect)((function(){R(l)}),[l]);var F=Object(a.useCallback)((function(e){R(e),d(e)}),[d]),L=Object(a.useMemo)((function(){return{behavioursEnabled:!0,enableSnippets:!0,enableBasicAutocompletion:!0,enableLiveAutocompletion:u,autoScrollEditorIntoView:!0}}),[u]);Object(a.useEffect)((function(){if(S){var e=S.editor.id;return j(e,m),function(){j(e,null)}}}),[m,S]),Object(a.useLayoutEffect)((function(){var e=function(){S&&S.editor.resize()};if(v){e();var n=Object(E.a)(v,e);return function(){n.disconnect()}}}),[v,S]);var q=Object(a.useCallback)((function(e){var n=S.editor.session.doc.getTextRange(e.getRange()),t=n.length>1?n:null;p(t)}),[S,p]),A=Object(a.useCallback)((function(e){e.commands.bindKey({win:"Ctrl+L",mac:"Cmd+L"},null),e.commands.bindKey({win:"Ctrl+Shift+F",mac:"Cmd+Shift+F"},null),e.commands.bindKey({win:"Ctrl+P",mac:null},null),e.commands.bindKey({win:null,mac:"Ctrl+P"},"golineup"),e.commands.on("afterExec",(function(n){"insertstring"===n.command.name&&"."===n.args&&e.completer&&e.completer.showPopup(e)})),e.focus()}),[]);return Object(a.useImperativeHandle)(n,(function(){return{paste:function(e){if(S){var n=S.editor;n.session.doc.replace(n.selection.getRange(),e);var t=n.selection.getRange();d(n.session.getValue()),n.selection.setRange(t)}},focus:function(){S&&S.editor.focus()}}}),[S,d]),o.a.createElement("div",Object.assign({className:r()("sql-editor-container",t)},b,{ref:C}),o.a.createElement(f.a,{ref:x,theme:"textmate",mode:c||"sql",value:N,editorProps:w,width:"100%",height:"100%",setOptions:L,showPrintMargin:!1,wrapEnabled:!1,onLoad:A,onChange:F,onSelectionChange:q}))})),S=(t(45),t(19));var x=function(){var e=function(){};return o.a.createElement("div",{className:"App"},o.a.createElement(_,{className:"SQLEditor",schema:S.schema,autocompleteEnabled:!0,onChange:e,onSelectionChange:e}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.324cbb72.chunk.js.map